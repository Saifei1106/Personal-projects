{"remainingRequest":"C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\开发版本\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\开发版本\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\开发版本\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\开发版本\\client\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\开发版本\\client\\src\\views\\Message.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\开发版本\\client\\src\\views\\Message.vue","mtime":1627047482994},{"path":"C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\开发版本\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\开发版本\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\开发版本\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\开发版本\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\开发版本\\client\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2ZseS9EZXNrdG9wL3Z1ZS92dWUtMDgtXHU1QjlFXHU2MjE4L1x1NUYwMFx1NTNEMVx1NzI0OFx1NjcyQy9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi9Vc2Vycy9mbHkvRGVza3RvcC92dWUvdnVlLTA4LVx1NUI5RVx1NjIxOC9cdTVGMDBcdTUzRDFcdTcyNDhcdTY3MkMvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1lc3NhZ2UiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL+eVmeiogOWGheWuuQogICAgICB0ZXh0YXJlYTogIiIsCiAgICAgIC8v55So5LqO5bGV56S6L+makOiXjyBlbW9qaemAieaLqeahhgogICAgICBpZlNob3dFbW9qaTogZmFsc2UsCiAgICAgIC8vZW1vamnmlbDnu4QKICAgICAgZW1vamk6IFsi8J+YgyIsICLwn5iBIiwgIvCfmIIiLCAi8J+YiiIsICLwn5mDIiwgIvCfpbAiLCAi8J+YmCIsICLwn6StIiwgIvCfpJQiLCAi8J+YjyIsICLwn5i1IiwgIvCfmJ8iLCAi8J+ZgSIsICLwn5izIiwgIvCfmLAiLCAi8J+YrSIsICLwn5iWIiwgIvCfmKEiLCAi8J+YoCIsICLwn5iIIiwgIvCfpKEiLCAi4pig77iPIiwgIvCfkbsiLCAi8J+ZiCIsICLwn5mJIiwgIuKdpO+4jyIsICLwn5KWIiwgIvCfkqIiLCAi8J+SoyIsICLwn5KkIiwgIvCfkYsiLCAi8J+RjSIsICLwn5GMIiwgIvCfpJ4iLCAi8J+knyIsICLwn6SZIiwgIvCfkYoiLCAi8J+WlSIsICLwn6SdIiwgIvCfmY8iLCAi8J+ZhSIsICLwn5mF4oCN4pmC77iPIiwgIvCfkajigI3inIjvuI8iLCAi8J+RqeKAjeKciO+4jyIsICLwn5G3IiwgIvCfkbfigI3imYDvuI8iLCAi8J+kpiIsICLwn6Sm4oCN4pmC77iPIiwgIvCfkbQiLCAi8J+nkyIsICLwn5C0IiwgIvCfkK4iLCAi8J+QliIsICLwn5CRIiwgIvCfkJMiLCAi8J+mmiIsICLwn5CyIiwgIvCfkLMiLCAi8J+QnyIsICLwn5CMIl0sCiAgICAgIC8v5omA5pyJ55WZ6KiA5YiX6KGoCiAgICAgIG1zZ0xpc3Q6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsndXNlckluZm8nXSkpLAogIG1ldGhvZHM6IHsKICAgIC8v5pi+56S66KGo5oOF5qGGCiAgICBzaG93RW1vamk6IGZ1bmN0aW9uIHNob3dFbW9qaSgpIHsKICAgICAgdGhpcy5pZlNob3dFbW9qaSA9ICF0aGlzLmlmU2hvd0Vtb2ppOwogICAgfSwKICAgIC8v6KGo5oOF5Zu+5qCH54K55Ye7CiAgICBjbGlja0Vtb2ppOiBmdW5jdGlvbiBjbGlja0Vtb2ppKGl0ZW0pIHsKICAgICAgaWYgKHRoaXMudGV4dGFyZWEubGVuZ3RoID4gOTgpIHJldHVybjsKICAgICAgdGhpcy50ZXh0YXJlYSArPSBpdGVtOwogICAgfSwKICAgIC8v5o+Q5Lqk55WZ6KiACiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHZhbCwgX3lpZWxkJF90aGlzJCRheGlvcywgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzLnVzZXJJbmZvLnVzZXIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF90aGlzLiRtZXNzYWdlLmVycm9yKCLor7flhYjnmbvlvZUiKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIC8v55WZ6KiA5YaF5a655Li656m6CiAgICAgICAgICAgICAgICB2YWwgPSBfdGhpcy50ZXh0YXJlYS50cmltKCk7CgogICAgICAgICAgICAgICAgaWYgKHZhbCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+i+k+WFpeeVmeiogOWGheWuuSIpKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGF4aW9zKHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICAgICAgICAgIHVybDogIi9tc2cvc3VibWl0IiwKICAgICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgIHZhbDogdmFsCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMkJGF4aW9zID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkX3RoaXMkJGF4aW9zLmRhdGE7CgogICAgICAgICAgICAgICAgaWYgKCFkYXRhLmNvZGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfdGhpcy4kbWVzc2FnZS5lcnJvcihkYXRhLm1zZykpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgLy/miJDlip8KICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIueVmeiogOaIkOWKnyIpOyAvL+aPkOekugoKCiAgICAgICAgICAgICAgICBfdGhpcy50ZXh0YXJlYSA9ICIiOyAvL+WGheWuuea4heepugoKICAgICAgICAgICAgICAgIF90aGlzLmdldE1zZygpOyAvL+mHjeaWsOivt+axgueVmeiogOaVsOaNrgoKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+ivt+axguaJgOacieeVmeiogOaVsOaNrgogICAgZ2V0TXNnOiBmdW5jdGlvbiBnZXRNc2coKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpczIkJGF4aW9zLCBkYXRhLCBkOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kYXhpb3MoewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgICAgICB1cmw6ICIvZ2V0L21zZyIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMyJCRheGlvcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRfdGhpczIkJGF4aW9zLmRhdGE7CiAgICAgICAgICAgICAgICBkID0gZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgZC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgIGl0ZW0uaWZTaG93UmVwbHkgPSBmYWxzZTsgLy/nlKjkuo7mjqfliLblm57lpI3moYbmmL7kuI3mmL7npLoKCiAgICAgICAgICAgICAgICAgIGl0ZW0ucmVwbHlUeHQgPSAiIjsgLy/lm57lpI3moYbnmoTlhoXlrrnnu5HlrpoKCiAgICAgICAgICAgICAgICAgIGl0ZW0ucmVwbHlVc2VyID0gaXRlbS5hdXRob3I7IC8v5o+Q56S65qGG5paH5a2X5YaF5a65CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzMi5tc2dMaXN0ID0gZDsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy/ovazmjaLml6XmnJ/mmL7npLoKICAgIGZvcm1hdERhdGU6IGZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSkgewogICAgICB2YXIgZCA9IG5ldyBEYXRlKGRhdGUpLAogICAgICAgICAgWVkgPSBkLmdldEZ1bGxZZWFyKCksCiAgICAgICAgICBNTSA9IGQuZ2V0TW9udGgoKSArIDEsCiAgICAgICAgICBERCA9IGQuZ2V0RGF0ZSgpLAogICAgICAgICAgaGggPSBkLmdldEhvdXJzKCksCiAgICAgICAgICBtbSA9IGQuZ2V0TWludXRlcygpLAogICAgICAgICAgc3MgPSBkLmdldFNlY29uZHMoKTsKICAgICAgTU0gPSAoTU0gPCAxMCA/ICIwIiA6ICIiKSArIE1NOwogICAgICBERCA9IChERCA8IDEwID8gIjAiIDogIiIpICsgREQ7CiAgICAgIGhoID0gKGhoIDwgMTAgPyAiMCIgOiAiIikgKyBoaDsKICAgICAgbW0gPSAobW0gPCAxMCA/ICIwIiA6ICIiKSArIG1tOwogICAgICBzcyA9IChzcyA8IDEwID8gIjAiIDogIiIpICsgc3M7CiAgICAgIHJldHVybiAiIi5jb25jYXQoWVksICItIikuY29uY2F0KE1NLCAiLSIpLmNvbmNhdChERCwgIiAiKS5jb25jYXQoaGgsICI6IikuY29uY2F0KG1tLCAiOiIpLmNvbmNhdChzcyk7CiAgICB9LAogICAgLy/niLbnuqfngrnotZ7mjInpkq7ngrnlh7sKICAgIHBhcmVudExpa2VDbGljazogZnVuY3Rpb24gcGFyZW50TGlrZUNsaWNrKGlkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpczMkJGF4aW9zLCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzMy51c2VySW5mby51c2VyKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF90aGlzMy4kbWVzc2FnZS5lcnJvcigi6K+35YWI55m75b2VIikpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRheGlvcyh7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgICB1cmw6ICIvbXNnL2xpa2UvcGFyZW50IiwKICAgICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgIGlkOiBpZAogICAgICAgICAgICAgICAgICB9IC8v5Lyg6YCS6K+E6K6655qEaWTnu5nlkI7nq68KCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzMyQkYXhpb3MgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkX3RoaXMzJCRheGlvcy5kYXRhOwoKICAgICAgICAgICAgICAgIGlmICghZGF0YS5jb2RlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIF90aGlzMy4kbWVzc2FnZS5lcnJvcihkYXRhLm1zZykpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAvL+aTjeS9nOaIkOWKnwogICAgICAgICAgICAgICAgLy/ph43mlrDor7fmsYLor4TorrrmlbDmja4KICAgICAgICAgICAgICAgIF90aGlzMy5nZXRNc2coKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy/lrZDnuqfngrnotZ7mjInpkq7ngrnlh7sKICAgIGNoaWxkTGlrZUNsaWNrOiBmdW5jdGlvbiBjaGlsZExpa2VDbGljayhwSUQsIGNJRCwgY0luZGV4KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpczQkJGF4aW9zLCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzNC51c2VySW5mby51c2VyKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIF90aGlzNC4kbWVzc2FnZS5lcnJvcigi6K+35YWI55m75b2VIikpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LiRheGlvcyh7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgICB1cmw6ICIvbXNnL2xpa2UvY2hpbGQiLAogICAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgcElEOiBwSUQsCiAgICAgICAgICAgICAgICAgICAgY0lEOiBjSUQsCiAgICAgICAgICAgICAgICAgICAgY0luZGV4OiBjSW5kZXgKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczQkJGF4aW9zID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJF90aGlzNCQkYXhpb3MuZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuY29kZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBfdGhpczQuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX3RoaXM0LmdldE1zZygpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+WbnuWkjeaPkOS6pAogICAgcmVwbHlTdWJtaXQ6IGZ1bmN0aW9uIHJlcGx5U3VibWl0KGl0ZW0pIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgdGV4dCwgX3lpZWxkJF90aGlzNSQkYXhpb3MsIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM1LnVzZXJJbmZvLnVzZXIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgX3RoaXM1LiRtZXNzYWdlLmVycm9yKCLor7flhYjnmbvlvZUiKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHRleHQgPSBpdGVtLnJlcGx5VHh0LnRyaW0oKTsgLy/pqozor4HmlbDmja7moLzlvI8KCiAgICAgICAgICAgICAgICBpZiAodGV4dCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBfdGhpczUuJG1lc3NhZ2UuZXJyb3IoIuivt+i+k+WFpeWbnuWkjeWGheWuuSIpKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgaWYgKCEodGV4dC5sZW5ndGggPiAxMDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIF90aGlzNS4kbWVzc2FnZS5lcnJvcigi5Zue5aSN5a2X5pWw5LiN6IO96LaF6L+HMTAwIikpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LiRheGlvcyh7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgICB1cmw6ICIvbXNnL3JlcGx5L3N1Ym1pdCIsCiAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5faWQsCiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dCwKICAgICAgICAgICAgICAgICAgICByZXBseVVzZXI6IGl0ZW0ucmVwbHlVc2VyLl9pZAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzNSQkYXhpb3MgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkX3RoaXM1JCRheGlvcy5kYXRhOwoKICAgICAgICAgICAgICAgIGlmICghZGF0YS5jb2RlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBfdGhpczUuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF90aGlzNS4kbWVzc2FnZS5zdWNjZXNzKCLlm57lpI3miJDlip8iKTsKCiAgICAgICAgICAgICAgICBfdGhpczUuZ2V0TXNnKCk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+WbnuWkjeaMiemSrueahOeCueWHuwogICAgcGFyZW50UmVwbHlDbGljazogZnVuY3Rpb24gcGFyZW50UmVwbHlDbGljayhpdGVtKSB7CiAgICAgIC8v5Yik5pat55So5oi35piv5ZCm55m75b2VCiAgICAgIGlmICghdGhpcy51c2VySW5mby51c2VyKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+WFiOeZu+W9lSIpOwogICAgICB9IC8v6YCa6L+H5Yik5patIEAg55qE5ZCN5a2X5LiA5qC35LiN5LiA5qC377yM5p2l5Yaz5a6a5piv5ZCm5piv5bGV5byACgoKICAgICAgaWYgKGl0ZW0uYXV0aG9yLl9pZCAhPT0gaXRlbS5yZXBseVVzZXIuX2lkKSB7CiAgICAgICAgaXRlbS5pZlNob3dSZXBseSA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaXRlbS5pZlNob3dSZXBseSA9ICFpdGVtLmlmU2hvd1JlcGx5OwogICAgICB9IC8v5pS55Y+YcmVwbHlVc2VyCgoKICAgICAgaXRlbS5yZXBseVVzZXIgPSBpdGVtLmF1dGhvcjsKICAgIH0sCiAgICAvL+WtkOWbnuWkjeaMiemSrueCueWHuwogICAgY2hpbGRSZXBseUNsaWNrOiBmdW5jdGlvbiBjaGlsZFJlcGx5Q2xpY2soaXRlbSwgY2hpbGRJdGVtKSB7CiAgICAgIC8v5Yik5pat55So5oi35piv5ZCm55m75b2VCiAgICAgIGlmICghdGhpcy51c2VySW5mby51c2VyKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+WFiOeZu+W9lSIpOwogICAgICB9IC8v6YCa6L+H5Yik5patIEAg55qE5ZCN5a2X5LiA5qC35LiN5LiA5qC377yM5p2l5Yaz5a6a5piv5ZCm5piv5bGV5byACgoKICAgICAgaWYgKGNoaWxkSXRlbS5hdXRob3IuX2lkICE9PSBpdGVtLnJlcGx5VXNlci5faWQpIHsKICAgICAgICBpdGVtLmlmU2hvd1JlcGx5ID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpdGVtLmlmU2hvd1JlcGx5ID0gIWl0ZW0uaWZTaG93UmVwbHk7CiAgICAgIH0gLy/mlLnlj5hyZXBseVVzZXIKCgogICAgICBpdGVtLnJlcGx5VXNlciA9IGNoaWxkSXRlbS5hdXRob3I7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy/or7fmsYLnlZnoqIDmlbDmja4KICAgIHRoaXMuZ2V0TXNnKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgLy/ngrnlh7tkb2N1bWVudOeahOaXtuWAmWVtb2pp5raI5aSxCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXM2LmlmU2hvd0Vtb2ppID0gZmFsc2U7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\开发版本\\client\\src\\views\\Message.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"Message\">\r\n    <article class=\"a1\">\r\n      <h2>留言板</h2>\r\n      <p class=\"des\">请文明发言，禁止广告。不然拉黑了嗷\\(^o^)/~</p>\r\n      <el-input\r\n        type=\"textarea\"\r\n        :rows=\"2\"\r\n        placeholder=\"请输入内容\"\r\n        maxlength='100'\r\n        show-word-limit\r\n        v-model=\"textarea\">\r\n      </el-input>\r\n      <div class=\"btn\">\r\n        <div class=\"left\">\r\n          <i class=\"iconfont icon-biaoqing\" @click.stop=\"showEmoji\"></i>\r\n          <div class=\"emoji\" v-if=\"ifShowEmoji\">\r\n            <ul>\r\n              <li\r\n                v-for=\"item in emoji\"\r\n                :key=\"item\"\r\n                @click.stop=\"clickEmoji(item)\"\r\n              >\r\n                {{ item }}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <el-button\r\n          type=\"primary\"\r\n          size=\"mini\"\r\n          @click=\"submit\"\r\n        >发表\r\n        </el-button>\r\n      </div>\r\n    </article>\r\n    <article class=\"a2\">\r\n      <ul>\r\n        <li v-for=\"item in msgList\" :key=\"item._id\">\r\n          <div class=\"parent\">\r\n            <div\r\n              class=\"left\"\r\n              :style=\"{backgroundImage: `url(${baseURL}${item.author.photo})`}\"\r\n            ></div>\r\n            <div class=\"right\">\r\n              <div class=\"name-time\">\r\n                <span>{{ item.author.user }}</span>\r\n                <span>{{ formatDate(item.date) }}</span>\r\n              </div>\r\n              <div class=\"message\">\r\n                {{ item.text }}\r\n              </div>\r\n              <div class=\"like-reply\">\r\n                <i\r\n                  class=\"like iconfont icon-xinaixin\"\r\n                  :class=\"{\r\n                    isLike: userInfo._id && item.likes.includes(userInfo._id)\r\n                  }\"\r\n                  @click=\"parentLikeClick(item._id)\"\r\n                ></i>\r\n                <span>{{ item.likes.length }}</span>\r\n                <i\r\n                  class=\"reply iconfont icon-huifu\"\r\n                  @click=\"parentReplyClick(item)\"\r\n                ></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"child\"\r\n            v-for=\"(childItem,index) in item.children\"\r\n            :key=\"childItem._id\"\r\n          >\r\n            <div\r\n              class=\"left\"\r\n              :style=\"{backgroundImage: `url(${baseURL}${childItem.author.photo})`}\"\r\n            ></div>\r\n            <div class=\"right\">\r\n              <div class=\"name-time\">\r\n                <span>{{ childItem.author.user }}</span>\r\n                <span>{{ formatDate(childItem.date) }}</span>\r\n              </div>\r\n              <div class=\"message\">\r\n                <span>@{{ childItem.replyUser.user }}</span>{{ childItem.text }}\r\n              </div>\r\n              <div class=\"like-reply\">\r\n                <i\r\n                  class=\"like iconfont icon-xinaixin\"\r\n                  :class=\"{\r\n                    isLike: userInfo._id && childItem.likes.includes(userInfo._id)\r\n                  }\"\r\n                  @click=\"childLikeClick(item._id, childItem._id, index)\"\r\n                ></i>\r\n                <span>{{ childItem.likes.length }}</span>\r\n                <i\r\n                  class=\"reply iconfont icon-huifu\"\r\n                  @click=\"childReplyClick(item,childItem)\"\r\n                ></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"replyInput\"\r\n            :class=\"{\r\n              show: item.ifShowReply\r\n            }\"\r\n          >\r\n            <el-input\r\n              size=\"mini\"\r\n              :placeholder=\"`@${item.replyUser.user}`\"\r\n              v-model=\"item.replyTxt\"\r\n            ></el-input>\r\n            <el-button\r\n              type=\"primary\"\r\n              size=\"mini\"\r\n              @click=\"replySubmit(item)\"\r\n            >提交\r\n            </el-button>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </article>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState} from 'vuex'\r\n\r\nexport default {\r\n  name: \"Message\",\r\n  data() {\r\n    return {\r\n      //留言内容\r\n      textarea: \"\",\r\n      //用于展示/隐藏 emoji选择框\r\n      ifShowEmoji: false,\r\n      //emoji数组\r\n      emoji: [\r\n        \"😃\", \"😁\", \"😂\", \"😊\", \"🙃\", \"🥰\", \"😘\", \"🤭\", \"🤔\", \"😏\",\r\n        \"😵\", \"😟\", \"🙁\", \"😳\", \"😰\", \"😭\", \"😖\", \"😡\", \"😠\", \"😈\",\r\n        \"🤡\", \"☠️\", \"👻\", \"🙈\", \"🙉\", \"❤️\", \"💖\", \"💢\", \"💣\", \"💤\",\r\n        \"👋\", \"👍\", \"👌\", \"🤞\", \"🤟\", \"🤙\", \"👊\", \"🖕\", \"🤝\", \"🙏\",\r\n        \"🙅\", \"🙅‍♂️\", \"👨‍✈️\", \"👩‍✈️\", \"👷\", \"👷‍♀️\", \"🤦\", \"🤦‍♂️\", \"👴\", \"🧓\",\r\n        \"🐴\", \"🐮\", \"🐖\", \"🐑\", \"🐓\", \"🦚\", \"🐲\", \"🐳\", \"🐟\", \"🐌\",\r\n      ],\r\n      //所有留言列表\r\n      msgList: []\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['userInfo'])\r\n  },\r\n  methods: {\r\n    //显示表情框\r\n    showEmoji() {\r\n      this.ifShowEmoji = !this.ifShowEmoji\r\n    },\r\n\r\n    //表情图标点击\r\n    clickEmoji(item) {\r\n      if (this.textarea.length > 98) return\r\n      this.textarea += item\r\n    },\r\n\r\n    //提交留言\r\n    async submit() {\r\n      //没有登录的话，给提示\r\n      if (!this.userInfo.user) {\r\n        return this.$message.error(\"请先登录\")\r\n      }\r\n\r\n      //留言内容为空\r\n      let val = this.textarea.trim()\r\n      if (!val) {\r\n        return this.$message.error(\"请输入留言内容\")\r\n      }\r\n\r\n      //发送到后端\r\n      let {data} = await this.$axios({\r\n        method: \"POST\",\r\n        url: \"/msg/submit\",\r\n        data: {val}\r\n      })\r\n      //失败\r\n      if (data.code) {\r\n        return this.$message.error(data.msg)\r\n      }\r\n      //成功\r\n      this.$message.success(\"留言成功\") //提示\r\n      this.textarea = \"\" //内容清空\r\n      this.getMsg() //重新请求留言数据\r\n\r\n    },\r\n\r\n    //请求所有留言数据\r\n    async getMsg() {\r\n      let {data} = await this.$axios({\r\n        method: \"GET\",\r\n        url: \"/get/msg\"\r\n      })\r\n\r\n      let d = data.data\r\n      d.forEach(item => {\r\n        item.ifShowReply = false //用于控制回复框显不显示\r\n        item.replyTxt = \"\" //回复框的内容绑定\r\n        item.replyUser = item.author //提示框文字内容\r\n      })\r\n\r\n      this.msgList = d\r\n    },\r\n\r\n    //转换日期显示\r\n    formatDate(date) {\r\n      let d = new Date(date),\r\n        YY = d.getFullYear(),\r\n        MM = d.getMonth() + 1,\r\n        DD = d.getDate(),\r\n        hh = d.getHours(),\r\n        mm = d.getMinutes(),\r\n        ss = d.getSeconds()\r\n\r\n      MM = (MM < 10 ? \"0\" : \"\") + MM\r\n      DD = (DD < 10 ? \"0\" : \"\") + DD\r\n      hh = (hh < 10 ? \"0\" : \"\") + hh\r\n      mm = (mm < 10 ? \"0\" : \"\") + mm\r\n      ss = (ss < 10 ? \"0\" : \"\") + ss\r\n\r\n      return `${YY}-${MM}-${DD} ${hh}:${mm}:${ss}`\r\n    },\r\n\r\n    //父级点赞按钮点击\r\n    async parentLikeClick(id) {\r\n      //判断用户是否登录\r\n      if (!this.userInfo.user) {\r\n        return this.$message.error(\"请先登录\")\r\n      }\r\n\r\n      //已登录\r\n      let {data} = await this.$axios({\r\n        method: \"POST\",\r\n        url: \"/msg/like/parent\",\r\n        data: {id} //传递评论的id给后端\r\n      })\r\n\r\n      //操作失败\r\n      if (data.code) {\r\n        return this.$message.error(data.msg)\r\n      }\r\n\r\n      //操作成功\r\n      //重新请求评论数据\r\n      this.getMsg()\r\n\r\n    },\r\n    //子级点赞按钮点击\r\n    async childLikeClick(pID, cID, cIndex) {\r\n      //判断用户是否登录\r\n      if (!this.userInfo.user) {\r\n        return this.$message.error(\"请先登录\")\r\n      }\r\n\r\n      //发送请求\r\n      let {data} = await this.$axios({\r\n        method: \"POST\",\r\n        url: \"/msg/like/child\",\r\n        data: {pID, cID, cIndex}\r\n      })\r\n\r\n      if (data.code) {\r\n        return this.$message.error(data.msg)\r\n      }\r\n\r\n      this.getMsg()\r\n\r\n    },\r\n\r\n    //回复提交\r\n    async replySubmit(item) {\r\n      //判断用户是否登录\r\n      if (!this.userInfo.user) {\r\n        return this.$message.error(\"请先登录\")\r\n      }\r\n\r\n      let text = item.replyTxt.trim()\r\n\r\n      //验证数据格式\r\n      if (!text) {\r\n        return this.$message.error(\"请输入回复内容\")\r\n      }\r\n      if (text.length > 100) {\r\n        return this.$message.error(\"回复字数不能超过100\")\r\n      }\r\n\r\n      //发送数据到后端\r\n      let {data} = await this.$axios({\r\n        method: \"POST\",\r\n        url: \"/msg/reply/submit\",\r\n        data: {\r\n          id: item._id,\r\n          text,\r\n          replyUser: item.replyUser._id\r\n        }\r\n      })\r\n\r\n      if (data.code) {\r\n        return this.$message.error(data.msg)\r\n      }\r\n\r\n      this.$message.success(\"回复成功\")\r\n      this.getMsg()\r\n\r\n    },\r\n\r\n    //回复按钮的点击\r\n    parentReplyClick(item) {\r\n      //判断用户是否登录\r\n      if (!this.userInfo.user) {\r\n        return this.$message.error(\"请先登录\")\r\n      }\r\n      //通过判断 @ 的名字一样不一样，来决定是否是展开\r\n      if (item.author._id !== item.replyUser._id){\r\n        item.ifShowReply = true\r\n      }else{\r\n        item.ifShowReply = !item.ifShowReply\r\n      }\r\n      //改变replyUser\r\n      item.replyUser = item.author\r\n    },\r\n\r\n    //子回复按钮点击\r\n    childReplyClick(item, childItem) {\r\n      //判断用户是否登录\r\n      if (!this.userInfo.user) {\r\n        return this.$message.error(\"请先登录\")\r\n      }\r\n      //通过判断 @ 的名字一样不一样，来决定是否是展开\r\n      if (childItem.author._id !== item.replyUser._id){\r\n        item.ifShowReply = true\r\n      }else{\r\n        item.ifShowReply = !item.ifShowReply\r\n      }\r\n      //改变replyUser\r\n      item.replyUser = childItem.author\r\n    }\r\n  },\r\n  created() {\r\n    //请求留言数据\r\n    this.getMsg()\r\n  },\r\n  mounted() {\r\n    //点击document的时候emoji消失\r\n    document.addEventListener(\"click\", () => {\r\n      this.ifShowEmoji = false\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n#Message {\r\n  article {\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    margin-bottom: 15px;\r\n    box-shadow: 0 0 4px #ddd;\r\n    padding: 25px 20px;\r\n    background-color: #fff;\r\n    font-family: Quicksand, Microsoft YaHei, sans-serif;\r\n\r\n    h2 {\r\n      margin-bottom: 15px;\r\n      font-size: 20px;\r\n      letter-spacing: 3px;\r\n      line-height: 24px;\r\n      border-left: 5px solid #73b899;\r\n      text-indent: 10px;\r\n    }\r\n\r\n    p {\r\n      text-indent: 2em;\r\n      color: #444;\r\n      font-size: 14px;\r\n      letter-spacing: 4px;\r\n      line-height: 30px;\r\n    }\r\n  }\r\n\r\n  article.a1 {\r\n    .el-textarea {\r\n      margin-top: 15px;\r\n    }\r\n\r\n    /deep/ textarea {\r\n      font-family: \"Quicksand\", \"微软雅黑\";\r\n      font-size: 12px;\r\n      letter-spacing: 2px;\r\n      height: 70px;\r\n    }\r\n\r\n    .btn {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      margin-top: 10px;\r\n\r\n      .left {\r\n        position: relative;\r\n      }\r\n\r\n      i {\r\n        font-size: 20px;\r\n        cursor: pointer;\r\n      }\r\n\r\n      .emoji {\r\n        position: absolute;\r\n        top: 30px;\r\n        background-color: #fff;\r\n        padding: 8px;\r\n        box-shadow: 0 0 3px #aaa;\r\n        user-select: none;\r\n\r\n        &::before {\r\n          content: \"\";\r\n          position: absolute;\r\n          z-index: 3;\r\n          top: -10px;\r\n          left: 5px;\r\n          width: 0;\r\n          height: 0;\r\n          border: 5px solid transparent;\r\n          border-bottom-color: #ccc;\r\n        }\r\n\r\n        ul {\r\n          display: flex;\r\n          flex-wrap: wrap;\r\n          width: 250px;\r\n\r\n          border-left: 1px solid #e5e5e5;\r\n          border-bottom: 1px solid #e5e5e5;\r\n\r\n          li {\r\n            box-sizing: border-box;\r\n            float: left;\r\n            width: 25px;\r\n            height: 25px;\r\n            border-right: 1px solid #e5e5e5;\r\n            border-top: 1px solid #e5e5e5;\r\n            font-size: 18px;\r\n            line-height: 25px;\r\n            cursor: pointer;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  article.a2 {\r\n    user-select: none;\r\n\r\n    ul li {\r\n      padding-bottom: 5px;\r\n      margin-bottom: 10px;\r\n      border-bottom: 1px dashed #ddd;\r\n      font-size: 12px;\r\n      font-family: Microsoft YaHei, \"sans-serif\";\r\n\r\n      .child {\r\n        margin-left: 55px;\r\n        margin-top: 3px;\r\n      }\r\n\r\n      .parent, .child {\r\n        display: flex;\r\n\r\n        .left {\r\n          overflow: hidden;\r\n          width: 40px;\r\n          height: 40px;\r\n          margin-right: 15px;\r\n          border-radius: 50%;\r\n          background: none top center/cover;\r\n        }\r\n\r\n        .right {\r\n          flex: 1;\r\n\r\n          .name-time {\r\n            font-size: 12px;\r\n            margin-bottom: 3px;\r\n\r\n            span:nth-child(1) {\r\n              color: #73b899;\r\n            }\r\n\r\n            span:nth-child(2) {\r\n              color: #aaa;\r\n              margin-left: 10px;\r\n            }\r\n          }\r\n\r\n          .message {\r\n            color: #666;\r\n            letter-spacing: 2px;\r\n            margin-bottom: 3px;\r\n            word-break: break-word;\r\n\r\n            span {\r\n              color: #409eff;\r\n              margin-right: 5px;\r\n            }\r\n          }\r\n\r\n          .like-reply {\r\n            i {\r\n              cursor: pointer;\r\n              font-size: 14px;\r\n              color: #aaa;\r\n            }\r\n\r\n            i.isLike {\r\n              color: #f30606;\r\n            }\r\n\r\n            span {\r\n              display: inline-block;\r\n              width: 43px;\r\n              font-size: 12px;\r\n              color: #aaa;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      .replyInput {\r\n        box-sizing: border-box;\r\n        overflow: hidden;\r\n        width: 100%;\r\n        height: 0;\r\n        padding-left: 55px;\r\n        transition: height .3s;\r\n        margin-top: 10px;\r\n\r\n        &.show {\r\n          height: 57px;\r\n        }\r\n\r\n        .el-button {\r\n          padding: 0 9px !important;\r\n          float: right;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}]}