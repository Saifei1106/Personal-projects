{"remainingRequest":"G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\babel-loader\\lib\\index.js!G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!G:\\桌面\\vue开发\\开发版本\\client\\src\\components\\Admin\\ArticleAdd.vue?vue&type=script&lang=js","dependencies":[{"path":"G:\\桌面\\vue开发\\开发版本\\client\\src\\components\\Admin\\ArticleAdd.vue","mtime":1627305663514},{"path":"G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkc6L1x1Njg0Q1x1OTc2Mi92dWVcdTVGMDBcdTUzRDEvXHU1RjAwXHU1M0QxXHU3MjQ4XHU2NzJDL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQXJ0aWNsZUFkZCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICB0aXRsZTogIiIsCiAgICAgICAgZGVzOiAiIiwKICAgICAgICBtZDogIiIsCiAgICAgICAgY292ZXI6ICIiCiAgICAgIH0sCiAgICAgIGltYWdlVXJsOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5Y+R6KGo5oyJ6ZKu54K55Ye7CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICAvL+S7juS4iuS8oG1k5byA5aeL77yM5ZCO57ut55qE5LiK5Lyg5Zyo5a+55bqU55qE5Zue6LCD6YeM6Z2i5a6M5oiQCiAgICAgIHRoaXMuJHJlZnMubWRGb3JtLnN1Ym1pdCgpOwogICAgfSwKICAgIC8v5paH56ug5Y+R6KGoCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpcyQkYXhpb3MsIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRheGlvcyh7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgICAgICB1cmw6ICIvYWRtaW5TZXJ2ZXIvYXJ0aWNsZS9hZGQiLAogICAgICAgICAgICAgICAgICBkYXRhOiBfdGhpcy5mb3JtCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzJCRheGlvcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJF90aGlzJCRheGlvcy5kYXRhOwoKICAgICAgICAgICAgICAgIGlmICghZGF0YS5jb2RlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfdGhpcy4kbWVzc2FnZS5lcnJvcihkYXRhLm1zZykpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAvL+i3s+i9rOWIsOWvueW6lOeahOaWh+eroOmhtemdogogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvYXJ0aWNsZS8iLmNvbmNhdChkYXRhLmRhdGEuaWQpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v5re75YqgbWTmlofku7bnmoTlkITnp43mo4DmtYsKICAgIGZpbGVDaGFuZ2U6IGZ1bmN0aW9uIGZpbGVDaGFuZ2UoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgaWYgKGZpbGUuc3RhdHVzICE9PSAncmVhZHknKSByZXR1cm47IC8v566A5Y2V5Yik5pat5piv5ZCm5pivLm1k5paH5Lu2CgogICAgICBpZiAoL14oLispXC5tZCQvLnRlc3QoZmlsZS5uYW1lKSkgewogICAgICAgIC8v5b2T5rKh5pyJ6L6T5YWldGl0bGXnmoTml7blgJnvvIzojrflj5blkI3lrZfloavlhYXliLB0aXRsZQogICAgICAgIGlmICh0aGlzLmZvcm0udGl0bGUpIHJldHVybjsKICAgICAgICB0aGlzLmZvcm0udGl0bGUgPSBSZWdFeHAuJDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy/mj5DnpLrlubbpmLvmraLmlofku7bmt7vliqAKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLlj6rog73kuIrkvKAgLm1kIOaWh+S7tiIpOwogICAgICAgIGZpbGVMaXN0LnBvcCgpOwogICAgICB9CiAgICB9LAogICAgLy/liKDpmaRtZOaWh+S7tuS5i+WJjeeahOmSqeWtkAogICAgYmVmb3JlUmVtb3ZlOiBmdW5jdGlvbiBiZWZvcmVSZW1vdmUoKSB7CiAgICAgIHRoaXMuZm9ybS50aXRsZSA9ICIiOwogICAgfSwKICAgIC8vbWTkuIrkvKDmiJDlip/nmoTpkqnlrZAKICAgIG1kX3VwbG9hZF9zdWNjZXNzOiBmdW5jdGlvbiBtZF91cGxvYWRfc3VjY2VzcyhyZXMpIHsKICAgICAgLy9tZOS4iuS8oOWksei0pQogICAgICBpZiAocmVzLmNvZGUpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi5LiK5LygbWTlpLHotKXvvIzor7fmo4Dmn6XlkI7nq6/miqXplJkiKTsKICAgICAgfSAvL21k5LiK5Lyg5oiQ5YqfCgoKICAgICAgdGhpcy5mb3JtLm1kID0gcmVzLnVybDsgLy/liKTmlq3mmK/lkKbmnInlsIHpnaLlm74KCiAgICAgIGlmICh0aGlzLmltYWdlVXJsKSB7CiAgICAgICAgLy/mnInlsIHpnaLlm77vvIzop6blj5HlsIHpnaLlm77nmoTkuIrkvKAKICAgICAgICB0aGlzLiRyZWZzLmltZ0Zvcm0uc3VibWl0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy/msqHmnInlsIHpnaLlm77vvIznm7TmjqXlj5Hooajmlofnq6AKICAgICAgICB0aGlzLnN1Ym1pdCgpOwogICAgICB9CiAgICB9LAogICAgLy/mt7vliqDlsIHpnaLnmoTpkqnlrZAKICAgIGNvdmVyQ2hhbmdlOiBmdW5jdGlvbiBjb3ZlckNoYW5nZShmaWxlLCBmaWxlTGlzdCkgewogICAgICBpZiAoZmlsZS5zdGF0dXMgIT09ICdyZWFkeScpIHJldHVybjsKICAgICAgdmFyIGlzSlBHID0gL15pbWFnZVwvKGpwZWd8cG5nKSQvLnRlc3QoZmlsZS5yYXcudHlwZSk7CiAgICAgIHZhciBpc0x0Mk0gPSBmaWxlLnJhdy5zaXplIC8gMTAyNCAvIDEwMjQgPCAyOwoKICAgICAgaWYgKCFpc0pQRykgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWktOWDj+WbvueJh+WPquiDveaYryBKUEcvUE5HIOagvOW8jyEnKTsKICAgICAgfQoKICAgICAgaWYgKCFpc0x0Mk0pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDlpLTlg4/lm77niYflpKflsI/kuI3og73otoXov4cgMk1CIScpOwogICAgICB9CgogICAgICBpZiAoaXNKUEcgJiYgaXNMdDJNKSB7CiAgICAgICAgdGhpcy5pbWFnZVVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZS5yYXcpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaW1hZ2VVcmwgPSAiIjsKICAgICAgICBmaWxlTGlzdC5wb3AoKTsKICAgICAgfQogICAgfSwKICAgIC8v5bCB6Z2i5LiK5Lyg5oiQ5YqfCiAgICBjb3Zlcl91cGxvYWRfc3VjY2VzczogZnVuY3Rpb24gY292ZXJfdXBsb2FkX3N1Y2Nlc3MocmVzKSB7CiAgICAgIGlmIChyZXMuY29kZSkgewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCLkuIrkvKDlsIHpnaLlpLHotKXvvIzor7fmo4Dmn6XlkI7nq6/miqXplJkiKTsKICAgICAgfQoKICAgICAgdGhpcy5mb3JtLmNvdmVyID0gcmVzLnVybDsKICAgICAgdGhpcy5zdWJtaXQoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["G:\\桌面\\vue开发\\开发版本\\client\\src\\components\\Admin\\ArticleAdd.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"ArticleAdd\">\r\n    <el-form\r\n      :model=\"form\"\r\n      status-icon\r\n      ref=\"ruleForm\"\r\n      label-width=\"100px\"\r\n    >\r\n      <el-form-item label=\"标题：\" label-width=\"100px\">\r\n        <el-input\r\n          v-model=\"form.title\"\r\n          placeholder=\"可通过上传 md 自动获取文件名\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"描述：\" label-width=\"100px\">\r\n        <el-input type=\"textarea\" v-model=\"form.des\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"md上传：\" label-width=\"100px\">\r\n        <el-upload\r\n          class=\"upload-demo\"\r\n          drag\r\n          :action=\"`${baseURL}/adminServer/article/md`\"\r\n          :auto-upload=\"false\"\r\n          :on-change=\"fileChange\"\r\n          :on-success=\"md_upload_success\"\r\n          :before-remove=\"beforeRemove\"\r\n          :limit=\"1\"\r\n          ref=\"mdForm\"\r\n          :with-credentials=\"true\"\r\n        >\r\n          <i class=\"el-icon-upload\"></i>\r\n          <div class=\"el-upload__text\">将.md文件拖到此处，或<em>点击上传</em></div>\r\n        </el-upload>\r\n      </el-form-item>\r\n      <el-form-item label=\"封面图上传：\" label-width=\"100px\">\r\n        <el-upload\r\n          class=\"avatar-uploader\"\r\n          :action=\"`${baseURL}/adminServer/article/cover`\"\r\n          :show-file-list=\"false\"\r\n          :on-change=\"coverChange\"\r\n          :on-success=\"cover_upload_success\"\r\n          :auto-upload=\"false\"\r\n          ref=\"imgForm\"\r\n          :with-credentials=\"true\"\r\n        >\r\n          <div\r\n            v-if=\"imageUrl\"\r\n            class=\"avatar\"\r\n            :style=\"{\r\n              backgroundImage: `url(${imageUrl})`\r\n            }\"\r\n          >\r\n          </div>\r\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n        </el-upload>\r\n      </el-form-item>\r\n      <el-form-item label-width=\"100px\">\r\n        <el-button type=\"primary\" @click=\"submitForm\">确认发表</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ArticleAdd\",\r\n  data() {\r\n    return {\r\n      form: {\r\n        title: \"\",\r\n        des: \"\",\r\n        md: \"\",\r\n        cover: \"\"\r\n      },\r\n      imageUrl: \"\"\r\n    }\r\n  },\r\n  methods: {\r\n    //发表按钮点击\r\n    submitForm() {\r\n      //从上传md开始，后续的上传在对应的回调里面完成\r\n      this.$refs.mdForm.submit()\r\n    },\r\n\r\n    //文章发表\r\n    async submit() {\r\n      let {data} = await this.$axios({\r\n        method: \"POST\",\r\n        url: \"/adminServer/article/add\",\r\n        data: this.form\r\n      })\r\n\r\n      if (data.code) {\r\n        return this.$message.error(data.msg)\r\n      }\r\n\r\n      //跳转到对应的文章页面\r\n      this.$router.push(`/article/${data.data.id}`)\r\n    },\r\n\r\n    //添加md文件的各种检测\r\n    fileChange(file, fileList) {\r\n      if (file.status !== 'ready') return\r\n      //简单判断是否是.md文件\r\n      if (/^(.+)\\.md$/.test(file.name)) {\r\n        //当没有输入title的时候，获取名字填充到title\r\n        if (this.form.title) return\r\n        this.form.title = RegExp.$1\r\n      } else {\r\n        //提示并阻止文件添加\r\n        this.$message.error(\"只能上传 .md 文件\")\r\n        fileList.pop()\r\n      }\r\n    },\r\n\r\n    //删除md文件之前的钩子\r\n    beforeRemove() {\r\n      this.form.title = \"\"\r\n    },\r\n\r\n    //md上传成功的钩子\r\n    md_upload_success(res) {\r\n\r\n      //md上传失败\r\n      if (res.code) {\r\n        return this.$message.error(\"上传md失败，请检查后端报错\")\r\n      }\r\n\r\n      //md上传成功\r\n      this.form.md = res.url\r\n      //判断是否有封面图\r\n      if (this.imageUrl) {\r\n        //有封面图，触发封面图的上传\r\n        this.$refs.imgForm.submit()\r\n      } else {\r\n        //没有封面图，直接发表文章\r\n        this.submit()\r\n      }\r\n    },\r\n\r\n    //添加封面的钩子\r\n    coverChange(file, fileList) {\r\n      if (file.status !== 'ready') return\r\n\r\n      const isJPG = /^image\\/(jpeg|png)$/.test(file.raw.type);\r\n      const isLt2M = file.raw.size / 1024 / 1024 < 2;\r\n\r\n      if (!isJPG) {\r\n        this.$message.error('上传头像图片只能是 JPG/PNG 格式!');\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error('上传头像图片大小不能超过 2MB!');\r\n      }\r\n      if (isJPG && isLt2M) {\r\n        this.imageUrl = URL.createObjectURL(file.raw);\r\n      } else {\r\n        this.imageUrl = \"\"\r\n        fileList.pop()\r\n      }\r\n    },\r\n\r\n    //封面上传成功\r\n    cover_upload_success(res) {\r\n      if (res.code) {\r\n        return this.$message.error(\"上传封面失败，请检查后端报错\")\r\n      }\r\n      this.form.cover = res.url\r\n      this.submit()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n#ArticleAdd {\r\n  /deep/ .avatar-uploader .el-upload {\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n\r\n  /deep/ .avatar-uploader .el-upload:hover {\r\n    border-color: #409EFF;\r\n  }\r\n\r\n  /deep/ .avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    line-height: 178px;\r\n    text-align: center;\r\n  }\r\n\r\n  /deep/ .avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    display: block;\r\n    background: none center center/cover;\r\n  }\r\n}\r\n\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}]}