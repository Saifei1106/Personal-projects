{"remainingRequest":"G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\thread-loader\\dist\\cjs.js!G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\babel-loader\\lib\\index.js!G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!G:\\桌面\\vue开发\\开发版本\\client\\src\\components\\Admin\\ArticleAdd.vue?vue&type=template&id=25df5c11&scoped=true","dependencies":[{"path":"G:\\桌面\\vue开发\\开发版本\\client\\src\\components\\Admin\\ArticleAdd.vue","mtime":1627305663514},{"path":"G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1624994109000},{"path":"G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHdpdGhTY29wZUlkIGFzIF93aXRoU2NvcGVJZCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aElkID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgiZGF0YS12LTI1ZGY1YzExIik7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi0yNWRmNWMxMSIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAgaWQ6ICJBcnRpY2xlQWRkIgp9OwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJpIiwgewogIGNsYXNzOiAiZWwtaWNvbi11cGxvYWQiCn0sIG51bGwsIC0xKTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAiZWwtdXBsb2FkX190ZXh0Igp9LCBbLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIuWwhi5tZOaWh+S7tuaLluWIsOatpOWkhO+8jOaIliIpLCAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJlbSIsIG51bGwsICLngrnlh7vkuIrkvKAiKV0sIC0xKTsKCnZhciBfaG9pc3RlZF80ID0gewogIGtleTogMSwKICBjbGFzczogImVsLWljb24tcGx1cyBhdmF0YXItdXBsb2FkZXItaWNvbiIKfTsKCnZhciBfaG9pc3RlZF81ID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIuehruiupOWPkeihqCIpOwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2VsX2lucHV0ID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWlucHV0Iik7CgogIHZhciBfY29tcG9uZW50X2VsX2Zvcm1faXRlbSA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1mb3JtLWl0ZW0iKTsKCiAgdmFyIF9jb21wb25lbnRfZWxfdXBsb2FkID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXVwbG9hZCIpOwoKICB2YXIgX2NvbXBvbmVudF9lbF9idXR0b24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtYnV0dG9uIik7CgogIHZhciBfY29tcG9uZW50X2VsX2Zvcm0gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZm9ybSIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtLCB7CiAgICBtb2RlbDogJGRhdGEuZm9ybSwKICAgICJzdGF0dXMtaWNvbiI6ICIiLAogICAgcmVmOiAicnVsZUZvcm0iLAogICAgImxhYmVsLXdpZHRoIjogIjEwMHB4IgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoSWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgIGxhYmVsOiAi5qCH6aKY77yaIiwKICAgICAgICAibGFiZWwtd2lkdGgiOiAiMTAwcHgiCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aElkKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgICAgICAgICAgbW9kZWxWYWx1ZTogJGRhdGEuZm9ybS50aXRsZSwKICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gJGRhdGEuZm9ybS50aXRsZSA9ICRldmVudDsKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAi5Y+v6YCa6L+H5LiK5LygIG1kIOiHquWKqOiOt+WPluaWh+S7tuWQjSIKICAgICAgICAgIH0sIG51bGwsIDgsIFsibW9kZWxWYWx1ZSJdKV07CiAgICAgICAgfSksCiAgICAgICAgXzogMQogICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZm9ybV9pdGVtLCB7CiAgICAgICAgbGFiZWw6ICLmj4/ov7DvvJoiLAogICAgICAgICJsYWJlbC13aWR0aCI6ICIxMDBweCIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoSWQoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pbnB1dCwgewogICAgICAgICAgICB0eXBlOiAidGV4dGFyZWEiLAogICAgICAgICAgICBtb2RlbFZhbHVlOiAkZGF0YS5mb3JtLmRlcywKICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gJGRhdGEuZm9ybS5kZXMgPSAkZXZlbnQ7CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSldOwogICAgICAgIH0pLAogICAgICAgIF86IDEKICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgIGxhYmVsOiAibWTkuIrkvKDvvJoiLAogICAgICAgICJsYWJlbC13aWR0aCI6ICIxMDBweCIKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoSWQoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF91cGxvYWQsIHsKICAgICAgICAgICAgY2xhc3M6ICJ1cGxvYWQtZGVtbyIsCiAgICAgICAgICAgIGRyYWc6ICIiLAogICAgICAgICAgICBhY3Rpb246ICIiLmNvbmNhdChfY3R4LmJhc2VVUkwsICIvYWRtaW5TZXJ2ZXIvYXJ0aWNsZS9tZCIpLAogICAgICAgICAgICAiYXV0by11cGxvYWQiOiBmYWxzZSwKICAgICAgICAgICAgIm9uLWNoYW5nZSI6ICRvcHRpb25zLmZpbGVDaGFuZ2UsCiAgICAgICAgICAgICJvbi1zdWNjZXNzIjogJG9wdGlvbnMubWRfdXBsb2FkX3N1Y2Nlc3MsCiAgICAgICAgICAgICJiZWZvcmUtcmVtb3ZlIjogJG9wdGlvbnMuYmVmb3JlUmVtb3ZlLAogICAgICAgICAgICBsaW1pdDogMSwKICAgICAgICAgICAgcmVmOiAibWRGb3JtIiwKICAgICAgICAgICAgIndpdGgtY3JlZGVudGlhbHMiOiB0cnVlCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoSWQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBbX2hvaXN0ZWRfMiwgX2hvaXN0ZWRfM107CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICB9LCA4LCBbImFjdGlvbiIsICJvbi1jaGFuZ2UiLCAib24tc3VjY2VzcyIsICJiZWZvcmUtcmVtb3ZlIl0pXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICBsYWJlbDogIuWwgemdouWbvuS4iuS8oO+8miIsCiAgICAgICAgImxhYmVsLXdpZHRoIjogIjEwMHB4IgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhJZChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3VwbG9hZCwgewogICAgICAgICAgICBjbGFzczogImF2YXRhci11cGxvYWRlciIsCiAgICAgICAgICAgIGFjdGlvbjogIiIuY29uY2F0KF9jdHguYmFzZVVSTCwgIi9hZG1pblNlcnZlci9hcnRpY2xlL2NvdmVyIiksCiAgICAgICAgICAgICJzaG93LWZpbGUtbGlzdCI6IGZhbHNlLAogICAgICAgICAgICAib24tY2hhbmdlIjogJG9wdGlvbnMuY292ZXJDaGFuZ2UsCiAgICAgICAgICAgICJvbi1zdWNjZXNzIjogJG9wdGlvbnMuY292ZXJfdXBsb2FkX3N1Y2Nlc3MsCiAgICAgICAgICAgICJhdXRvLXVwbG9hZCI6IGZhbHNlLAogICAgICAgICAgICByZWY6ICJpbWdGb3JtIiwKICAgICAgICAgICAgIndpdGgtY3JlZGVudGlhbHMiOiB0cnVlCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoSWQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBbJGRhdGEuaW1hZ2VVcmwgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIHsKICAgICAgICAgICAgICAgIGtleTogMCwKICAgICAgICAgICAgICAgIGNsYXNzOiAiYXZhdGFyIiwKICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogInVybCgiLmNvbmNhdCgkZGF0YS5pbWFnZVVybCwgIikiKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIG51bGwsIDQpKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiaSIsIF9ob2lzdGVkXzQpKV07CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICB9LCA4LCBbImFjdGlvbiIsICJvbi1jaGFuZ2UiLCAib24tc3VjY2VzcyJdKV07CiAgICAgICAgfSksCiAgICAgICAgXzogMQogICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZm9ybV9pdGVtLCB7CiAgICAgICAgImxhYmVsLXdpZHRoIjogIjEwMHB4IgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhJZChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgICB0eXBlOiAicHJpbWFyeSIsCiAgICAgICAgICAgIG9uQ2xpY2s6ICRvcHRpb25zLnN1Ym1pdEZvcm0KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhJZChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIFtfaG9pc3RlZF81XTsKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIF86IDEKICAgICAgICAgIH0sIDgsIFsib25DbGljayJdKV07CiAgICAgICAgfSksCiAgICAgICAgXzogMQogICAgICB9KV07CiAgICB9KSwKICAgIF86IDEKICB9LCA4LCBbIm1vZGVsIl0pXSk7Cn0pOw=="},{"version":3,"sources":["G:\\桌面\\vue开发\\开发版本\\client\\src\\components\\Admin\\ArticleAdd.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"ArticleAdd\">\r\n    <el-form\r\n      :model=\"form\"\r\n      status-icon\r\n      ref=\"ruleForm\"\r\n      label-width=\"100px\"\r\n    >\r\n      <el-form-item label=\"标题：\" label-width=\"100px\">\r\n        <el-input\r\n          v-model=\"form.title\"\r\n          placeholder=\"可通过上传 md 自动获取文件名\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"描述：\" label-width=\"100px\">\r\n        <el-input type=\"textarea\" v-model=\"form.des\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"md上传：\" label-width=\"100px\">\r\n        <el-upload\r\n          class=\"upload-demo\"\r\n          drag\r\n          :action=\"`${baseURL}/adminServer/article/md`\"\r\n          :auto-upload=\"false\"\r\n          :on-change=\"fileChange\"\r\n          :on-success=\"md_upload_success\"\r\n          :before-remove=\"beforeRemove\"\r\n          :limit=\"1\"\r\n          ref=\"mdForm\"\r\n          :with-credentials=\"true\"\r\n        >\r\n          <i class=\"el-icon-upload\"></i>\r\n          <div class=\"el-upload__text\">将.md文件拖到此处，或<em>点击上传</em></div>\r\n        </el-upload>\r\n      </el-form-item>\r\n      <el-form-item label=\"封面图上传：\" label-width=\"100px\">\r\n        <el-upload\r\n          class=\"avatar-uploader\"\r\n          :action=\"`${baseURL}/adminServer/article/cover`\"\r\n          :show-file-list=\"false\"\r\n          :on-change=\"coverChange\"\r\n          :on-success=\"cover_upload_success\"\r\n          :auto-upload=\"false\"\r\n          ref=\"imgForm\"\r\n          :with-credentials=\"true\"\r\n        >\r\n          <div\r\n            v-if=\"imageUrl\"\r\n            class=\"avatar\"\r\n            :style=\"{\r\n              backgroundImage: `url(${imageUrl})`\r\n            }\"\r\n          >\r\n          </div>\r\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n        </el-upload>\r\n      </el-form-item>\r\n      <el-form-item label-width=\"100px\">\r\n        <el-button type=\"primary\" @click=\"submitForm\">确认发表</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ArticleAdd\",\r\n  data() {\r\n    return {\r\n      form: {\r\n        title: \"\",\r\n        des: \"\",\r\n        md: \"\",\r\n        cover: \"\"\r\n      },\r\n      imageUrl: \"\"\r\n    }\r\n  },\r\n  methods: {\r\n    //发表按钮点击\r\n    submitForm() {\r\n      //从上传md开始，后续的上传在对应的回调里面完成\r\n      this.$refs.mdForm.submit()\r\n    },\r\n\r\n    //文章发表\r\n    async submit() {\r\n      let {data} = await this.$axios({\r\n        method: \"POST\",\r\n        url: \"/adminServer/article/add\",\r\n        data: this.form\r\n      })\r\n\r\n      if (data.code) {\r\n        return this.$message.error(data.msg)\r\n      }\r\n\r\n      //跳转到对应的文章页面\r\n      this.$router.push(`/article/${data.data.id}`)\r\n    },\r\n\r\n    //添加md文件的各种检测\r\n    fileChange(file, fileList) {\r\n      if (file.status !== 'ready') return\r\n      //简单判断是否是.md文件\r\n      if (/^(.+)\\.md$/.test(file.name)) {\r\n        //当没有输入title的时候，获取名字填充到title\r\n        if (this.form.title) return\r\n        this.form.title = RegExp.$1\r\n      } else {\r\n        //提示并阻止文件添加\r\n        this.$message.error(\"只能上传 .md 文件\")\r\n        fileList.pop()\r\n      }\r\n    },\r\n\r\n    //删除md文件之前的钩子\r\n    beforeRemove() {\r\n      this.form.title = \"\"\r\n    },\r\n\r\n    //md上传成功的钩子\r\n    md_upload_success(res) {\r\n\r\n      //md上传失败\r\n      if (res.code) {\r\n        return this.$message.error(\"上传md失败，请检查后端报错\")\r\n      }\r\n\r\n      //md上传成功\r\n      this.form.md = res.url\r\n      //判断是否有封面图\r\n      if (this.imageUrl) {\r\n        //有封面图，触发封面图的上传\r\n        this.$refs.imgForm.submit()\r\n      } else {\r\n        //没有封面图，直接发表文章\r\n        this.submit()\r\n      }\r\n    },\r\n\r\n    //添加封面的钩子\r\n    coverChange(file, fileList) {\r\n      if (file.status !== 'ready') return\r\n\r\n      const isJPG = /^image\\/(jpeg|png)$/.test(file.raw.type);\r\n      const isLt2M = file.raw.size / 1024 / 1024 < 2;\r\n\r\n      if (!isJPG) {\r\n        this.$message.error('上传头像图片只能是 JPG/PNG 格式!');\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error('上传头像图片大小不能超过 2MB!');\r\n      }\r\n      if (isJPG && isLt2M) {\r\n        this.imageUrl = URL.createObjectURL(file.raw);\r\n      } else {\r\n        this.imageUrl = \"\"\r\n        fileList.pop()\r\n      }\r\n    },\r\n\r\n    //封面上传成功\r\n    cover_upload_success(res) {\r\n      if (res.code) {\r\n        return this.$message.error(\"上传封面失败，请检查后端报错\")\r\n      }\r\n      this.form.cover = res.url\r\n      this.submit()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n#ArticleAdd {\r\n  /deep/ .avatar-uploader .el-upload {\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n\r\n  /deep/ .avatar-uploader .el-upload:hover {\r\n    border-color: #409EFF;\r\n  }\r\n\r\n  /deep/ .avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    line-height: 178px;\r\n    text-align: center;\r\n  }\r\n\r\n  /deep/ .avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    display: block;\r\n    background: none center center/cover;\r\n  }\r\n}\r\n\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}]}