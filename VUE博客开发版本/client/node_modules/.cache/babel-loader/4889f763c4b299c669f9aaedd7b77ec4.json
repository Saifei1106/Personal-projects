{"remainingRequest":"G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\babel-loader\\lib\\index.js!G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!G:\\桌面\\vue开发\\开发版本\\client\\src\\components\\Admin\\ContactMsg.vue?vue&type=script&lang=js","dependencies":[{"path":"G:\\桌面\\vue开发\\开发版本\\client\\src\\components\\Admin\\ContactMsg.vue","mtime":1627394629239},{"path":"G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\桌面\\vue开发\\开发版本\\client\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkc6L1x1Njg0Q1x1OTc2Mi92dWVcdTVGMDBcdTUzRDEvXHU1RjAwXHU1M0QxXHU3MjQ4XHU2NzJDL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDb250YWN0TXNnIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29udGFjdERhdGE6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy/or7fmsYLmiYDmnInmlbDmja4KICAgIGdldENvbnRhY3REYXRhOiBmdW5jdGlvbiBnZXRDb250YWN0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpcyQkYXhpb3MsIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRheGlvcyh7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgIHVybDogIi9hZG1pblNlcnZlci9jb250YWN0IgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpcyQkYXhpb3MgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRfdGhpcyQkYXhpb3MuZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuY29kZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX3RoaXMuY29udGFjdERhdGEgPSBkYXRhLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL3N3aXRjaOWIh+aNouinpuWPkQogICAgc3dpdGNoSGFuZGxlOiBmdW5jdGlvbiBzd2l0Y2hIYW5kbGUoaXRlbSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXMyJCRheGlvcywgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJGF4aW9zKHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICAgICAgICAgIHVybDogIi9hZG1pblNlcnZlci9jb250YWN0L3JlYWQiLAogICAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uX2lkLAogICAgICAgICAgICAgICAgICAgIHJlYWQ6IGl0ZW0ucmVhZAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzMiQkYXhpb3MgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkX3RoaXMyJCRheGlvcy5kYXRhOwoKICAgICAgICAgICAgICAgIGlmICghZGF0YS5jb2RlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF90aGlzMi4kbWVzc2FnZS5lcnJvcihkYXRhLm1zZykpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldENvbnRhY3REYXRhKCk7CiAgfQp9Ow=="},{"version":3,"sources":["G:\\桌面\\vue开发\\开发版本\\client\\src\\components\\Admin\\ContactMsg.vue"],"names":[],"mappings":";;AA+CA,eAAe;AACb,EAAA,IAAI,EAAE,YADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,WAAW,EAAE;AADR,KAAP;AAGD,GANY;AAOb,EAAA,OAAO,EAAE;AACP;AACM,IAAA,cAFC,4BAEgB;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACF,KAAI,CAAC,MAAL,CAAY;AAC7B,kBAAA,MAAM,EAAE,KADqB;AAE7B,kBAAA,GAAG,EAAE;AAFwB,iBAAZ,CADE;;AAAA;AAAA;AAChB,gBAAA,IADgB,uBAChB,IADgB;;AAAA,qBAMjB,IAAI,CAAC,IANY;AAAA;AAAA;AAAA;;AAAA,iDAOZ,KAAI,CAAC,QAAL,CAAc,KAAd,CAAoB,IAAI,CAAC,GAAzB,CAPY;;AAAA;AAUrB,gBAAA,KAAI,CAAC,WAAL,GAAmB,IAAI,CAAC,IAAxB;;AAVqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYtB,KAdM;AAgBP;AACM,IAAA,YAjBC,wBAiBY,IAjBZ,EAiBkB;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACJ,MAAI,CAAC,MAAL,CAAY;AAC7B,kBAAA,MAAM,EAAE,MADqB;AAE7B,kBAAA,GAAG,EAAE,2BAFwB;AAG7B,kBAAA,IAAI,EAAE;AACJ,oBAAA,EAAE,EAAE,IAAI,CAAC,GADL;AAEJ,oBAAA,IAAI,EAAE,IAAI,CAAC;AAFP;AAHuB,iBAAZ,CADI;;AAAA;AAAA;AAClB,gBAAA,IADkB,wBAClB,IADkB;;AAAA,qBASnB,IAAI,CAAC,IATc;AAAA;AAAA;AAAA;;AAAA,kDAUd,MAAI,CAAC,QAAL,CAAc,KAAd,CAAoB,IAAI,CAAC,GAAzB,CAVc;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYzB;AA7BO,GAPI;AAsCb,EAAA,OAtCa,qBAsCH;AACR,SAAK,cAAL;AACF;AAxCa,CAAf","sourcesContent":["<template>\r\n  <div id=\"ContactMsg\">\r\n    <el-table\r\n      :data=\"contactData\"\r\n      border\r\n      style=\"width: 100%\">\r\n      <el-table-column\r\n        prop=\"date\"\r\n        label=\"日期\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"name\"\r\n        label=\"Name\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"email\"\r\n        label=\"Email\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"subject\"\r\n        label=\"Subject\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"message\"\r\n        label=\"Message\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        width=\"170px\"\r\n        label=\"是否处理\">\r\n        <template #default=\"scope\">\r\n          <el-switch\r\n            style=\"display: block\"\r\n            v-model=\"scope.row.read\"\r\n            active-color=\"#13ce66\"\r\n            inactive-color=\"#ff4949\"\r\n            active-text=\"已处理\"\r\n            inactive-text=\"未处理\"\r\n            @change=\"switchHandle(scope.row)\"\r\n          >\r\n          </el-switch>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ContactMsg\",\r\n  data() {\r\n    return {\r\n      contactData: []\r\n    }\r\n  },\r\n  methods: {\r\n    //请求所有数据\r\n    async getContactData() {\r\n      let {data} = await this.$axios({\r\n        method: \"GET\",\r\n        url: \"/adminServer/contact\"\r\n      })\r\n\r\n      if (data.code) {\r\n        return this.$message.error(data.msg)\r\n      }\r\n\r\n      this.contactData = data.data\r\n\r\n    },\r\n\r\n    //switch切换触发\r\n    async switchHandle(item) {\r\n      let {data} = await this.$axios({\r\n        method: \"POST\",\r\n        url: \"/adminServer/contact/read\",\r\n        data: {\r\n          id: item._id,\r\n          read: item.read\r\n        }\r\n      })\r\n      if (data.code){\r\n        return this.$message.error(data.msg)\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getContactData()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}]}