{"remainingRequest":"C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\client\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\client\\src\\components\\User\\UpdatePass.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\client\\src\\components\\User\\UpdatePass.vue","mtime":1626699648920},{"path":"C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\client\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQge21hcE11dGF0aW9uc30gZnJvbSAndnVleCcNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIlVwZGF0ZVBhc3MiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBwYXNzRm9ybTogew0KICAgICAgICBvbGRQYXNzOiAiIiwNCiAgICAgICAgcGFzczogIiIsDQogICAgICAgIHBhc3MyOiAiIg0KICAgICAgfSwNCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIHBhc3M6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICB2YWxpZGF0b3IocnVsZSwgdmFsdWUsIGNiKSB7DQogICAgICAgICAgICAgIC8v6ZW/5bqm6aqM6K+BDQogICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPCA2IHx8IHZhbHVlLmxlbmd0aCA+IDE4KSB7DQogICAgICAgICAgICAgICAgY2IobmV3IEVycm9yKCLor7fovpPlhaU2fjE45L2N55qE5a+G56CBIikpDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgLy/op4TliJnpqozor4ENCiAgICAgICAgICAgICAgaWYgKCEvXltcd1xbXF1cL1xcfmB8PD4sLj87Jzoie30hQCMkJV4mKigpXys9LV0rJC8udGVzdCh2YWx1ZSkpIHsNCiAgICAgICAgICAgICAgICBjYihuZXcgRXJyb3IoIuS4jeWFgeiuuOeahOWvhueggeWtl+espiIpKQ0KICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgY2IoKQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHRyaWdnZXI6ICJpbnB1dCINCiAgICAgICAgICB9DQogICAgICAgIF0sDQogICAgICAgIHBhc3MyOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgdmFsaWRhdG9yOiAocnVsZSwgdmFsdWUsIGNiKSA9PiB7DQogICAgICAgICAgICAgIGlmICh0aGlzLnBhc3NGb3JtLnBhc3MgIT09IHZhbHVlKSB7DQogICAgICAgICAgICAgICAgY2IobmV3IEVycm9yKCLkuKTmrKHovpPlhaXlr4bnoIHkuI3kuIDoh7QiKSkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICBjYigpDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICBdDQogICAgICB9DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLi4ubWFwTXV0YXRpb25zKFsnbG9naW5PdXQnXSksDQogICAgc3VibWl0KCkgew0KICAgICAgdGhpcy4kcmVmcy5wYXNzRm9ybS52YWxpZGF0ZShhc3luYyB2PT57DQogICAgICAgIGlmICh2KSB7DQoNCiAgICAgICAgICBsZXQge2RhdGF9ID0gYXdhaXQgdGhpcy4kYXhpb3Moew0KICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIsDQogICAgICAgICAgICB1cmw6ICIvcGVyc29uYWwvcGFzcyIsDQogICAgICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICAgIG9sZFBhc3M6IHRoaXMucGFzc0Zvcm0ub2xkUGFzcywNCiAgICAgICAgICAgICAgcGFzczogdGhpcy5wYXNzRm9ybS5wYXNzDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCg0KICAgICAgICAgIC8v5L+u5pS55aSx6LSlDQogICAgICAgICAgaWYgKGRhdGEuY29kZSl7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcihkYXRhLm1zZykNCiAgICAgICAgICB9DQoNCiAgICAgICAgICAvL+S/ruaUueaIkOWKnw0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5a+G56CB5L+u5pS55oiQ5Yqf77yM6K+36YeN5paw55m75b2VIikgLy/mj5DnpLoNCiAgICAgICAgICB0aGlzLmxvZ2luT3V0KCkgLy92dWV45riF55CGDQogICAgICAgICAgdGhpcy4kcmVmcy5wYXNzRm9ybS5yZXNldEZpZWxkcygpIC8v5riF56m66KGo5Y2VDQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKSAvL+i/lOWbnummlumhtQ0KDQogICAgICAgIH1lbHNlew0KICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["C:\\Users\\fly\\Desktop\\vue\\vue-08-实战\\client\\src\\components\\User\\UpdatePass.vue"],"names":[],"mappings":"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","file":"C:/Users/fly/Desktop/vue/vue-08-实战/client/src/components/User/UpdatePass.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div id=\"UpdatePass\">\r\n    <el-form\r\n      :model=\"passForm\"\r\n      status-icon\r\n      :rules=\"rules\"\r\n      ref=\"passForm\"\r\n      label-width=\"100px\"\r\n    >\r\n\r\n      <el-form-item label=\"原密码：\" prop=\"pass\" label-width=\"100px\">\r\n        <el-input type=\"password\" v-model=\"passForm.oldPass\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"新密码：\" prop=\"pass\" label-width=\"100px\">\r\n        <el-input type=\"password\" v-model=\"passForm.pass\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"确认新密码：\" prop=\"pass2\" label-width=\"100px\">\r\n        <el-input type=\"password\" v-model=\"passForm.pass2\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label-width=\"100px\">\r\n        <el-button type=\"primary\" @click=\"submit\">确认修改</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapMutations} from 'vuex'\r\nexport default {\r\n  name: \"UpdatePass\",\r\n  data() {\r\n    return {\r\n      passForm: {\r\n        oldPass: \"\",\r\n        pass: \"\",\r\n        pass2: \"\"\r\n      },\r\n      rules: {\r\n        pass: [\r\n          {\r\n            validator(rule, value, cb) {\r\n              //长度验证\r\n              if (value.length < 6 || value.length > 18) {\r\n                cb(new Error(\"请输入6~18位的密码\"))\r\n              }\r\n              //规则验证\r\n              if (!/^[\\w\\[\\]\\/\\\\~`|<>,.?;':\"{}!@#$%^&*()_+=-]+$/.test(value)) {\r\n                cb(new Error(\"不允许的密码字符\"))\r\n              }\r\n\r\n              cb()\r\n            },\r\n            trigger: \"input\"\r\n          }\r\n        ],\r\n        pass2: [\r\n          {\r\n            validator: (rule, value, cb) => {\r\n              if (this.passForm.pass !== value) {\r\n                cb(new Error(\"两次输入密码不一致\"))\r\n              }\r\n              cb()\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(['loginOut']),\r\n    submit() {\r\n      this.$refs.passForm.validate(async v=>{\r\n        if (v) {\r\n\r\n          let {data} = await this.$axios({\r\n            method: \"POST\",\r\n            url: \"/personal/pass\",\r\n            data: {\r\n              oldPass: this.passForm.oldPass,\r\n              pass: this.passForm.pass\r\n            }\r\n          })\r\n\r\n          //修改失败\r\n          if (data.code){\r\n            return this.$message.error(data.msg)\r\n          }\r\n\r\n          //修改成功\r\n          this.$message.success(\"密码修改成功，请重新登录\") //提示\r\n          this.loginOut() //vuex清理\r\n          this.$refs.passForm.resetFields() //清空表单\r\n          this.$router.push(\"/\") //返回首页\r\n\r\n        }else{\r\n          return false\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}]}